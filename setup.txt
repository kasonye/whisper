项目简介

  这个工具可以将音频文件转录为文字，支持多种音频格式（WAV、MP3、FLAC、M4A、OGG、OPUS、WEBM），并且会自动检测 GPU 加速。

  安装步骤

  1. 创建虚拟环境
  python -m venv whisper_env

  2. 激活虚拟环境

  Windows 系统：
  whisper_env\Scripts\activate

  Linux/Mac 系统：
  source whisper_env/bin/activate

  3. 安装项目
  pip install -e .

  首次运行时，会自动下载 Whisper-large-v3 模型（约 3GB），需要稳定的网络连接。

  使用方法

  基本用法

  转录音频文件并输出到终端：
  whisper-cli audio.wav

  保存到文件

  将转录结果保存到文本文件：
  whisper-cli audio.mp3 -o transcript.txt

  强制使用 CPU

  即使有 GPU 也使用 CPU 处理：
  whisper-cli audio.wav --device cpu

  详细输出模式

  显示文件信息和语言检测等详细信息：
  whisper-cli audio.wav --verbose

  查看帮助

  显示所有可用选项：
  whisper-cli --help

  实用示例

  # 基本转录
  whisper-cli interview.wav

  # 保存到文件并显示详细信息
  whisper-cli podcast.mp3 -o transcript.txt --verbose

  # 仅使用 CPU
  whisper-cli lecture.m4a --device cpu

  # 批量处理多个文件（Windows PowerShell）
  Get-ChildItem *.wav | ForEach-Object { whisper-cli $_.Name -o "$($_.BaseName).txt" }

  性能说明

  - GPU (CUDA)：推荐使用，速度约为实时的 10-20 倍
    - 例如：1 小时音频约 3-6 分钟完成转录
  - CPU：速度较慢但仍可用，约为实时的 1-3 倍
    - 例如：1 小时音频约 20-60 分钟完成转录

  系统要求

  - Python 3.8 或更高版本
  - 4GB+ 内存（推荐 8GB+）
  - 5GB+ 磁盘空间（用于存储模型）
  - 可选：支持 CUDA 的 GPU（用于加速）